<h1 class="title">管理者ダッシュボード</h1>

<h2 class="subtitle">ユーザー一覧</h2>
<div class="columns is-multiline">
  <% @users.each do |user| %>
    <div class="column is-one-third" id="<%= dom_id(user) %>">
      <div class="box">
        <p class="title is-4"><%= user.name %></p>
        <% if current_user.super_admin? || current_user.admin? %>
          <%= button_to '削除', admin_user_path(user), method: :delete, data: { turbo_confirm: '本当にこのユーザーを削除しますか？' }, remote: true, form: { data: { turbo: true }, class: 'button is-danger' } %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<h2 class="subtitle">相談一覧</h2>
<div class="columns is-multiline">
  <% @consultations.each do |consultation| %>
    <div class="column is-one-third" id="<%= dom_id(consultation) %>">
      <div class="box">
        <p class="title is-4"><%= consultation.title %></p>
        <% if current_user.super_admin? || current_user.admin? %>
          <%= button_to '削除', admin_consultation_path(consultation), method: :delete, data: { turbo_confirm: '本当にこの相談を削除しますか？' }, remote: true, form: { data: { turbo: true }, class: 'button is-danger' } %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<h2 class="subtitle">ギフト一覧</h2>
<div class="columns is-multiline">
  <% @gifts.each do |gift| %>
    <div class="column is-one-third" id="<%= dom_id(gift) %>">
      <div class="box">
        <p class="title is-4"><%= gift.item_name %></p>
        <% if current_user.super_admin? || current_user.admin? %>
          <%= button_to '削除', admin_gift_path(gift), method: :delete, data: { turbo_confirm: '本当にこのギフトを削除しますか？' }, remote: true, form: { data: { turbo: true }, class: 'button is-danger' } %>
        <% end %>
      </div>
    </div>
  <% end %>
</div>

<% if current_user.super_admin? || current_user.admin? %>
  <h2 class="subtitle">管理者ユーザー管理</h2>
  <%= button_to '管理者ユーザー一覧へ', admin_admin_users_path, method: :get, data: { turbo: true }, class: 'button is-primary' %>
  <%= link_to 'ダッシュボードに戻る', dashboard_path, class: 'button is-info is-small ml-2' %>
<% end %>
