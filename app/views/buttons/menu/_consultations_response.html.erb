<div id="content" class="container is-small frame-fixed-height">
  みんなの悩み！詳細
  <div class="columns">
    <div class="column">
      <div id="<%= dom_id(@consultation) %>" class="card">
        <p class="title">タイトル: <%= @consultation.title %></p>
        <p>投稿者: <%= consultation.user.name %></p>
        <div class="card-content">
          <div class="content">
            <p><%= consultation.content %></p>
          </div>
        </div>
      </div>
      <div class="is-flex is-justify-content-flex-end is-align-items-flex-end md-3">
        <% if user_signed_in? %>
        <%= button_to '相談返信に向かう', consultations_detail_path(id: consultation.id), method: :post, data: { turbo_frame: "content" }, class: "button is-fullwidth is-rounded card" %>
        <% end %>
        <%= button_to 'みんなの悩みに戻る', buttons_worries_path, method: :post, data: { turbo_frame: 'content' }, class: "button is-fullwidth is-rounded card" %>
        <!-- 現在ログインしているユーザーが投稿したコンサルテーションのみに削除ボタンを表示 -->
        <% if consultation.user == current_user %>
          <%= button_to '削除', consultations_destroy_path(consultation), method: :delete, remote: true, data: { confirm: '本当に削除しますか？' }, class: "button is-danger" %>
        <% end %>
      </div>
    </div>
  </div>
</div>